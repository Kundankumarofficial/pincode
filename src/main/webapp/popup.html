<html>
<head>
    <title> Flipkart.com </title>

    <!--<script src="getPincode.js" type="text/javascript"></script>-->
    <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC5DbaO99lxav9DOPU6SldJ4YEj5cequYw&sensor=true&libraries=places">
    </script>

    <script type="text/javascript">
        var cuteLittleWindow;
        var pincode2;
        var geocoder = new google.maps.Geocoder();


        function popup(){

            cuteLittleWindow = window.open("trial.html", "littleWindow", "location=no,width=600,height=500");
            }

        function getAutogeneratedPincode()
        {
             if (navigator.geolocation)
             {
             navigator.geolocation.getCurrentPosition(function showPosition(position)
             {

                 var latitude = position.coords.latitude;
                 var longitude = position.coords.longitude;
                 geocodePosition(new google.maps.LatLng(latitude,
             longitude));

             });
             }


        }
        function geocodePosition(pos) {
            var address;
            geocoder.geocode({
                latLng: pos
            }, function(responses) {
                if (responses && responses.length > 0) {
                   getPinCode(responses);
                    document.getElementById("textbox").value = pincode2;

                } else {
                    address="Cannot determine address at this location.";

                }
            });

        }

        function getPinCode(response)
        {
            pincode2 = null;
            var addressComponents = response[0].address_components;
            for(var i=0; i<addressComponents.length; i++)
            {
                var types = addressComponents[i].types;
                for(var j=0; j<types.length; j++)
                {
                    if(types[j]=="postal_code")
                        pincode2 = addressComponents[i].long_name;
                }
            }

        }

        function getPincodeFromChild(pincode)
        {
            document.getElementById("textbox").value = pincode;
        }

    </script>
</head>
<body>

<input id="textbox" type="text"/>
<script type="text/javascript">
 getAutogeneratedPincode();
</script>

<a href="javascript:popup()">Change</a>

</body>
</html>